<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="/estatico/css/bootstrap.min.css" />
        <link rel="stylesheet" href="/estatico/css/fontawesome.min.css" />
        <link rel="stylesheet" href="/estatico/css/casadocodigo.css" />
    </head>
    <body>
        <header class="cabecalhoPrincipal">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-4">
                        <h1 class="logo"><img src="/estatico/imagens/logo-casadocodigo.svg" alt="Casa do Código" /></h1>
                    </div>
                    <div class="cabecalhoPrincipal-navegacao col-8">
                        <a href="#" class="login">
                            <i class="fas fa-sign-in-alt"></i>Login
                        </a>
                    </div>
                </div>
            </div>
        </header>
        <main class="conteudoPrincipal">
            <div class="container">
                <h1> Listagem de livros </h1>

                <table id="livros" class="table table-striped table-hover">
                    <thead class="thead-dark">
                        <tr>
                            <th>ID</th>
                            <th>Título</th>
                            <th>Preço</th>
                            <th>Editar</th>
                            <th>Remover</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr id="livro_${livro.id}" for (livro in data.livros)>
                            <td>${livro.id}</td>
                            <td>${livro.titulo}</td>
                            <td>${livro.preco}</td>
                            <td><a href="/livros/form/${livro.id}">Editar</a></td>
                            <td><a href="#" data-ref="${livro.id}" data-type="remocao">Remover</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </main>
        <footer class="rodape">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-4">
                        <img src="/estatico/imagens/logo-rodape.svg" class="logo-rodape" />
                    </div>
                    <div class="col-8">
                        <ul class="redesSociais">
                            <li><a href="http://www.facebook.com/casadocodigo" class="compartilhar-facebook" target="_blank">/CasaDoCodigo</a></li>
                            <li><a href="http://www.twitter.com/casadocodigo" class="compartilhar-twitter" target="_blank">@casadocodigo</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>

        <script src="/estatico/js/remove-livro.js">
        </script>
    </body>
</html>
<!---
    Na tag <tr> de lista.marko, na qual havíamos definido o livro estático, criaremos um for () recebendo 
    data, uma variável disponibilizada pelo Marko cujo valor representará o objeto JavaScript que passamos 
    no segundo parâmetro da função marko(). Como esse objeto tem uma propriedade livros, podemos
    acessá-la com o auxílio de uma variável auxiliar for (data.livros).

    Agora queremos imprimir o id e o titulo da variável livro. Para isso, usaremos uma marko expression, 
    que é uma forma de referenciar uma variável em nossa página. Ela é utilizada com ${}, passando a 
    referência dentro dessa expressão: 
-->

<!---
        home.marko

<include('./layout.marko')>
   <@cabecalho>
       <h1>Casa do Código - Home</h1>
   </@cabecalho>
</include>

$ var livrosPromise = new Promise((resolve, reject) => {
   setTimeout(function() {
       resolve([
           {
               titulo: 'Cangaceiro Node'
           },
           {
               titulo: 'Node na prática'
           }
       ]);
   }, 1000);
});

<await(livros from livrosPromise)>
   <div for (livro in livros)>Título: ${livro.titulo}</div>
</await>

layout.marko 
<html>
   <body>
       <include(input.cabecalho)/>
   </body>
</html>
-->